---
layout: default
title: music search
---

<h2>dank ass music search</h2>
<p>we got it all over here</p>
<div id="checkboxes_div"></div>
<p>(<em>note:</em> you <em>might</em> have to look for a 'popups blocked' thing and press <strong>allow</strong> the first time you use this)</p>
enter query: <input type="text" id="query" />
<button onclick="submit();" href="javascript:;">search</button>

<script>
    checkboxes = [];
    var sites = {
        discogs:  "https://www.discogs.com/search/?q=",
        beatport: "https://www.beatport.com/search?q=",
        xlr8r:    "https://www.xlr8r.com/?s=",
        bandcamp: "https://bandcamp.com/search?q=",
        resident: "https://www.residentadvisor.net/search.aspx?searchstr=",
        decks:    "https://www.decks.de/",
        juno:     "http://www.juno.co.uk/search/?q%5Ball%5D%5B%5D="
    };

    (function() {
        var checkboxes_div = document.getElementById('checkboxes_div');
        i = 0;
        for (var name in sites) {
            var url = sites[name];
            var checked = (i < 3) ? " checked" : "";
            checkboxes_div.innerHTML += "<li><input id=" + name + 
                                                  " type=checkbox" + 
                                                  " class=checkbox" + 
                                                    checked + 
                                            ">" + name + "</input>"
                                        "</li>";
            i++;
        }
        checkboxes = document.getElementsByClassName("checkbox");
    })();

    function submit() {
        var raw_query = document.getElementById('query');
        var query = escape(raw_query.value);
        for (var i = 0; i < checkboxes.length; ++i) {
            var input = checkboxes[i];
            if (input.checked) {
                window.open(sites[input.id] + query, i);
            }
        }
    }
</script>
